<template>
    <section class="blog">
        <svg xmlns="http://www.w3.org/2000/svg" width="150" height="44"><path fill="#333" d="M23.30 37.04L23.28 37.02L21.32 37.34L21.34 37.37Q20.75 37.23 19.78 37.29L19.92 37.43L19.89 37.40Q18.94 37.47 18.44 37.47L18.30 37.33L18.37 37.41Q16.80 37.47 15.77 36.63L15.76 36.62L15.76 36.62Q16.58 35.54 18.22 33.40L18.24 33.42L18.21 33.40Q19.37 34.86 21.57 34.63L21.68 34.74L21.53 34.58Q22.48 34.51 23.13 33.86L23.15 33.88L23.13 33.86Q23.75 33.18 23.63 32.31L23.81 32.48L23.72 32.40Q23.69 27.87 23.76 23.30L23.76 23.30L23.67 23.21Q23.69 18.59 24.22 13.98L24.16 13.92L24.34 14.10Q26.12 13.74 28.25 12.71L28.32 12.79L28.25 12.72Q26.46 19.53 26.46 26.77L26.43 26.74L26.39 26.70Q26.40 30.25 26.86 33.75L27.01 33.90L27.01 33.90Q26.97 34.13 26.97 34.47L26.97 34.47L27.07 34.57Q26.92 34.99 26.70 35.53L26.77 35.60L26.78 35.61Q26.13 36.79 23.31 37.05ZM28.23 39.88L28.27 39.92L28.63 39.93L29.02 39.91L29.30 39.80L29.10 39.61Q29.45 39.38 29.53 39.27L29.57 39.32L29.62 39.36Q29.83 38.21 29.57 37.22L29.44 37.09L29.52 37.17Q28.18 31.38 28.45 25.02L28.40 24.97L28.38 24.95Q28.67 18.89 30.46 12.99L30.54 13.07L30.38 12.91Q29.55 13.60 28.29 14.32L28.36 14.38L28.27 14.30Q28.50 13.58 28.92 12.06L29.01 12.14L29.00 12.13Q26.38 13.36 23.71 13.66L23.79 13.73L23.72 13.67Q23.47 18.17 23.39 23.12L23.29 23.03L23.34 23.07Q23.21 28.92 23.28 32.34L23.35 32.41L23.39 32.45Q23.28 34.05 21.53 34.20L21.64 34.31L21.68 34.36Q19.99 34.49 18.32 32.86L18.17 32.71L18.28 32.82Q16.19 35.30 15.24 36.86L15.27 36.89L15.29 36.91Q15.80 37.42 16.83 37.65L16.97 37.79L16.97 37.79Q16.75 37.80 16.48 38.03L16.49 38.04L16.53 38.08Q18.07 39.13 20.05 39.39L19.96 39.29L19.96 39.29Q20.42 39.42 23.71 39.72L23.57 39.58L23.60 39.61Q27.04 40.06 28.42 40.06Z"/><path d="M12 38 C87 17,81 20,131 18" stroke="#666" fill="none"/><path d="M3 21 C88 40,79 14,140 34" stroke="#777" fill="none"/><path fill="#111" d="M46.07 37.14L46.19 37.26L46.06 37.13Q42.60 37.25 40.97 36.72L41.07 36.83L41.04 36.80Q38.98 36.07 38.68 32.68L38.79 32.80L40.19 31.69L40.13 31.62Q41.04 31.27 41.80 30.78L41.71 30.69L41.61 30.59Q41.42 32.57 43.01 33.78L43.06 33.82L43.08 33.85Q44.31 34.81 46.44 34.62L46.55 34.73L46.51 34.69Q50.90 34.28 50.71 30.74L50.66 30.70L50.74 30.78Q50.54 28.48 47.91 27.26L47.93 27.28L47.86 27.21Q44.97 26.11 42.61 24.89L42.67 24.94L42.71 24.99Q40.01 23.50 39.02 18.82L39.08 18.88L39.02 18.82Q38.94 18.40 38.83 17.64L38.96 17.77L38.83 17.65Q38.89 17.02 38.97 16.45L38.86 16.35L38.87 16.35Q39.06 14.79 40.31 14.33L40.21 14.23L40.31 14.32Q42.62 13.37 46.62 13.56L46.72 13.66L46.71 13.65Q48.58 13.81 49.38 13.88L49.27 13.77L49.36 13.86Q50.90 14.10 51.96 14.56L51.94 14.54L51.95 14.55Q53.97 14.93 54.20 17.41L54.18 17.39L54.19 17.40Q53.10 18.06 50.90 19.39L50.97 19.47L51.03 19.53Q50.60 16.51 46.23 16.51L46.06 16.35L46.07 16.36Q44.33 16.52 43.34 17.20L43.25 17.11L43.23 17.10Q42.05 17.59 42.27 19.38L42.36 19.46L42.39 19.49Q42.51 21.55 45.48 23.07L45.64 23.24L45.48 23.08Q46.04 23.33 50.53 24.96L50.67 25.11L50.65 25.09Q53.18 26.48 53.60 30.86L53.53 30.79L53.62 30.87Q53.58 30.99 53.66 32.25L53.64 32.23L53.61 32.20Q53.73 35.02 52.17 36.13L52.24 36.20L52.27 36.22Q50.25 37.02 46.06 37.13ZM48.40 39.55L48.39 39.53L48.39 39.54Q49.95 39.73 51.93 39.73L51.86 39.65L51.95 39.74Q53.98 39.69 55.24 39.27L55.24 39.27L55.21 39.24Q56.49 38.47 56.42 36.68L56.35 36.62L56.45 36.71Q56.37 35.68 55.99 33.63L56.03 33.66L55.97 33.60Q55.03 28.90 52.94 27.04L52.99 27.08L52.97 27.06Q52.27 25.57 50.94 24.84L50.97 24.87L45.45 22.59L45.55 22.69Q45.20 22.50 44.75 22.27L44.84 22.36L44.72 21.98L44.59 21.50L44.71 21.62Q44.40 20.05 45.54 19.44L45.68 19.58L45.66 19.57Q46.42 18.99 48.13 18.80L48.13 18.80L48.06 18.73Q49.21 18.62 50.35 19.08L50.48 19.20L50.47 19.19Q50.42 19.19 50.61 20.02L50.71 20.12L50.64 20.05Q50.75 19.82 51.25 19.59L51.34 19.69L51.34 19.69Q51.99 20.52 52.10 21.67L52.26 21.83L52.14 21.71Q52.21 21.66 55.86 19.07L55.90 19.11L55.85 19.06Q55.55 16.39 54.10 15.71L54.13 15.74L54.26 15.87Q53.64 14.56 52.19 14.03L52.15 13.99L52.20 14.03Q49.82 13.14 46.63 13.14L46.77 13.28L46.73 13.25Q41.85 13.28 39.99 13.97L39.84 13.82L39.98 13.96Q38.56 14.33 38.45 16.01L38.46 16.02L38.47 16.03Q38.44 16.57 38.86 18.78L38.85 18.77L38.80 18.71Q39.58 22.58 41.75 24.83L41.73 24.81L41.64 24.72Q42.51 26.50 44.01 27.18L44.07 27.25L44.00 27.17Q45.46 27.81 49.38 29.38L49.38 29.37L49.41 29.44L49.98 29.71L50.05 29.82L50.02 29.79Q50.19 30.23 50.23 30.57L50.22 30.55L50.38 30.71Q50.39 34.11 46.47 34.27L46.40 34.20L46.55 34.35Q45.33 34.31 44.03 33.93L43.92 33.81L44.00 33.89Q43.67 33.07 43.67 32.35L43.59 32.27L43.75 32.43Q43.59 32.00 43.63 31.73L43.66 31.77L43.74 31.85Q43.33 32.09 42.54 32.58L42.51 32.55L42.59 32.64Q42.04 31.47 42.19 30.10L42.09 30.01L42.17 30.08Q40.11 31.30 38.51 32.70L38.51 32.71L38.52 32.72Q38.60 33.55 38.67 34.58L38.58 34.48L38.48 34.39Q38.96 36.28 40.26 37.04L40.23 37.01L40.12 36.90Q41.51 38.90 44.06 39.28L44.03 39.26L44.07 39.29Q45.52 39.41 48.45 39.60Z"/><path fill="#111" d="M105.14 38.58L105.03 38.47L105.11 38.55Q102.90 38.06 100.73 37.90L100.89 38.06L100.88 38.05Q99.35 36.52 96.68 32.67L96.84 32.83L96.69 32.68Q94.59 35.88 92.19 38.31L92.05 38.16L89.99 38.58L90.01 38.60Q89.05 38.90 88.06 39.16L87.99 39.10L87.93 39.04Q92.11 34.92 95.12 30.81L95.27 30.96L95.19 30.87Q91.85 26.62 86.44 21.82L86.51 21.89L86.41 21.79Q88.69 22.58 91.39 23.00L91.42 23.03L91.54 23.15Q94.80 26.07 96.70 28.77L96.87 28.94L96.80 28.88Q98.82 25.71 101.56 23.20L101.75 23.39L101.57 23.21Q104.75 23.00 106.58 22.51L106.58 22.51L106.48 22.41Q102.03 26.14 98.34 30.71L98.35 30.72L98.23 30.60Q101.71 35.38 105.18 38.62ZM108.00 21.72L107.95 21.67L107.88 21.60Q105.06 22.51 101.52 22.85L101.57 22.90L101.49 22.83Q98.59 25.49 96.88 27.96L96.94 28.02L96.95 28.04Q96.05 26.98 94.42 25.00L94.45 25.04L94.20 24.97L94.29 25.07Q94.06 24.95 93.94 24.95L93.89 24.90L94.06 25.06Q93.28 24.21 91.64 22.76L91.54 22.66L91.60 22.72Q87.98 22.14 85.12 20.92L85.06 20.86L85.11 20.91Q90.63 25.71 94.66 30.84L94.76 30.95L94.76 30.94Q91.30 35.48 86.89 39.78L86.90 39.80L86.99 39.88Q87.07 39.62 90.57 38.78L90.60 38.81L90.62 38.84Q89.22 40.29 87.59 41.62L87.47 41.51L87.58 41.62Q90.63 40.56 93.79 40.37L93.95 40.52L93.82 40.40Q96.29 38.22 98.20 35.48L98.05 35.34L98.06 35.35Q99.49 37.12 100.71 38.30L100.81 38.41L100.81 38.40Q100.81 38.28 100.88 38.36L100.94 38.41L101.24 38.52L101.17 38.45Q102.36 39.50 103.69 40.56L103.65 40.52L103.83 40.69Q107.24 41.06 110.14 42.09L110.17 42.13L110.24 42.20Q104.03 37.70 100.34 32.53L100.41 32.59L100.45 32.64Q104.05 27.55 108.62 23.48L108.56 23.42L108.49 23.35Q107.68 23.84 106.69 24.07L106.74 24.11L104.58 24.43L104.66 24.51Q105.79 23.55 107.96 21.68Z"/><path fill="#222" d="M62.93 35.98L62.98 36.03L62.90 35.95Q64.75 33.53 69.50 26.26L69.57 26.32L69.45 26.21Q73.53 20.05 76.39 16.77L76.34 16.73L76.51 16.90Q74.25 17.03 72.16 17.03L72.28 17.16L72.16 17.04Q66.98 17.11 62.98 15.32L63.08 15.42L62.91 15.25Q62.35 13.43 61.66 11.87L61.68 11.89L61.59 11.80Q66.28 14.09 71.95 14.20L71.89 14.14L71.92 14.17Q77.03 14.22 82.21 12.31L82.12 12.23L82.21 12.31Q81.71 13.03 81.40 13.83L81.40 13.83L80.99 15.59L81.02 15.62Q77.87 19.17 73.88 25.00L73.78 24.90L70.59 29.86L70.59 29.86Q68.90 32.28 67.07 34.57L67.02 34.51L67.00 34.49Q70.37 33.94 73.69 34.02L73.62 33.95L73.64 33.97Q77.07 34.16 80.23 35.08L80.19 35.04L80.67 36.62L80.62 36.57Q80.89 37.42 81.23 38.25L81.15 38.17L81.25 38.27Q76.48 36.59 71.34 36.78L71.50 36.93L71.32 36.76Q66.23 36.99 61.73 39.01L61.88 39.16L61.83 39.11Q62.28 38.11 63.00 36.05ZM61.17 39.74L61.25 39.82L61.26 39.83Q62.51 39.25 63.31 38.99L63.19 38.87L63.16 38.83Q63.05 39.76 62.37 41.28L62.25 41.16L62.21 41.13Q68.01 39.08 73.98 39.31L73.95 39.27L73.97 39.29Q80.21 39.44 85.24 42.22L85.36 42.35L85.24 42.23Q83.91 39.91 83.11 37.74L83.14 37.77L83.06 37.68Q82.63 37.52 81.11 36.95L81.06 36.91L80.99 36.83Q80.96 36.23 80.54 34.75L80.42 34.62L80.37 34.58Q76.31 33.48 71.20 33.67L71.18 33.65L71.23 33.69Q73.33 30.93 76.87 25.37L76.82 25.32L76.85 25.35Q80.54 19.67 82.44 17.12L82.40 17.08L82.37 17.05Q83.00 15.78 84.03 13.07L84.04 13.08L83.93 12.97Q83.31 13.38 81.86 13.99L81.92 14.04L81.93 14.06Q82.14 13.12 82.86 11.60L82.93 11.67L82.98 11.72Q77.51 13.71 71.80 13.63L71.91 13.74L71.86 13.69Q65.84 13.53 60.89 11.02L60.95 11.08L60.98 11.11Q62.12 13.47 62.84 15.72L62.82 15.69L62.76 15.64Q63.88 16.19 64.68 16.41L64.77 16.51L64.62 16.35Q65.00 17.15 65.27 18.60L65.20 18.53L65.25 18.58Q68.94 19.61 73.82 19.42L73.93 19.54L73.78 19.38Q71.42 22.62 68.11 27.60L68.24 27.73L62.61 35.96L62.68 36.04Q62.26 37.25 61.23 39.80Z"/><path fill="#222" d="M124.24 24.16L124.32 24.24L124.20 24.12Q125.02 24.15 126.43 24.00L126.48 24.05L126.40 23.96Q126.40 24.65 126.40 25.30L126.45 25.35L126.33 26.48L126.48 26.63Q125.59 26.58 124.75 26.66L124.76 26.67L124.69 26.59Q123.94 26.71 123.10 26.68L122.97 26.55L123.13 26.71Q120.18 32.78 116.76 37.39L116.81 37.44L116.71 37.34Q114.22 38.01 112.93 38.62L113.06 38.75L112.96 38.66Q117.12 32.99 120.17 26.71L120.12 26.67L117.55 26.73L117.46 26.64Q117.42 25.26 117.31 23.93L117.34 23.97L117.48 24.10Q119.36 24.23 121.42 24.23L121.29 24.11L123.27 20.49L123.20 20.42Q124.16 18.48 125.38 16.89L125.43 16.94L125.38 16.89Q123.87 17.09 122.27 17.09L122.27 17.09L122.34 17.17Q116.12 17.03 112.35 14.82L112.47 14.95L111.89 13.29L111.88 13.29Q111.52 12.43 111.13 11.55L111.04 11.46L110.98 11.40Q115.51 14.21 121.22 14.44L121.04 14.27L121.17 14.39Q126.18 14.49 131.32 12.51L131.32 12.52L131.33 12.52Q131.11 12.92 130.62 13.79L130.77 13.94L130.80 13.97Q127.08 18.62 124.22 24.14ZM132.31 15.25L132.33 15.28L133.37 13.31L133.29 13.22Q132.37 13.75 130.70 14.48L130.69 14.47L130.89 14.18L130.89 14.18Q131.05 14.07 131.16 13.95L131.15 13.94L131.03 13.82Q131.45 13.17 132.17 11.84L132.14 11.81L132.12 11.79Q126.81 14.10 121.06 13.87L121.10 13.91L121.10 13.90Q115.17 13.73 110.41 10.76L110.30 10.64L110.33 10.67Q111.40 12.58 112.24 15.24L112.30 15.31L112.25 15.26Q113.28 15.83 114.08 16.13L114.04 16.09L114.04 16.10Q114.31 16.56 114.77 18.42L114.65 18.30L114.78 18.44Q117.90 19.65 123.42 19.50L123.32 19.40L123.45 19.53Q123.04 19.99 121.06 23.76L121.12 23.83L121.03 23.74Q119.11 23.87 117.13 23.68L117.01 23.55L117.10 23.65Q117.09 24.40 117.09 25.27L117.25 25.43L117.20 27.09L118.80 27.02L118.77 28.40L118.78 28.41Q114.84 35.78 112.06 39.35L112.06 39.36L112.19 39.48Q113.81 38.74 115.45 38.25L115.29 38.09L115.40 38.21Q114.75 39.15 113.38 40.87L113.31 40.80L113.36 40.85Q116.46 39.69 118.90 39.46L118.93 39.49L118.86 39.42Q121.89 35.75 125.01 28.97L125.00 28.96L128.41 29.13L128.46 29.18Q128.29 28.18 128.29 27.27L128.25 27.22L128.27 25.45L128.34 25.52Q128.01 25.46 127.46 25.50L127.46 25.50L127.56 25.60Q126.88 25.51 126.61 25.51L126.62 25.51L126.74 25.64Q126.62 25.41 126.66 25.25L126.79 25.39L126.78 25.11L126.69 25.01Q129.30 19.98 132.39 15.33Z"/></svg>
        <div flex="dir:left box:last">
            <ul class="articles" flex-box="1">
                <li class="ui card article-item" v-for="(item,index) in articles" :key="index">
                    <a class="ui blue ribbon label article-label">Community</a>
                    <div class="content">
                        <nuxt-link :to="{path:`article/pubilsh/${item._id}`,param:{id:item._id}}">
                            <h4 class="header">{{item.title}}</h4>
                            <div class="meta">
                                <span class="right floated time">2 天前</span>
                                <span class="category">动物</span>
                            </div>
                            <div class="description article-description">
                                <p>{{item.abstract}}</p>
                            </div>
                        </nuxt-link>

                    </div>
                    <div class="extra content" >
                        <div class="left floated" @click="like(item._id,index,item)">
                            <div class="ui labeled button" tabindex="0">
                                <div class="ui red button button-icon"><i class="heart icon"></i></div>
                                <a class="ui basic red left pointing label" >
                                    {{item.like+400}}
                                </a>
                            </div>
                            <div class="ui labeled button" tabindex="0">
                                <div class="ui basic blue button"><i class="fork icon"></i></div>
                                <a class="ui basic left pointing blue label">
                                    {{item.share+300}}
                                </a>
                            </div>

                        </div>
                        <div class="right floated " flex="cross:center">
                            <div class="author">
                                <img class="ui avatar image" src="http://www.semantic-ui.cn/images/avatar/small/matt.jpg">
                                Matt
                            </div>
                        </div>

                    </div>


                </li>
                <li class="ui card article-item" v-for="(item,index) in articles" :key="index">
                    <a class="ui blue ribbon label article-label">Community</a>
                    <div class="content">
                        <nuxt-link :to="{path:`article/pubilsh/${item._id}`,param:{id:item._id}}">
                            <h4 class="header">{{item.title}}</h4>
                            <div class="meta">
                                <span class="right floated time">2 天前</span>
                                <span class="category">动物</span>
                            </div>
                            <div class="description article-description">
                                <p>{{item.abstract}}</p>
                            </div>
                        </nuxt-link>

                    </div>
                    <div class="extra content" >
                        <div class="left floated" @click="like(item._id,index,item)">
                            <div class="ui labeled button" tabindex="0">
                                <div class="ui red button button-icon"><i class="heart icon"></i></div>
                                <a class="ui basic red left pointing label" >
                                    {{item.like+400}}
                                </a>
                            </div>
                            <div class="ui labeled button" tabindex="0">
                                <div class="ui basic blue button"><i class="fork icon"></i></div>
                                <a class="ui basic left pointing blue label">
                                    {{item.share+300}}
                                </a>
                            </div>

                        </div>
                        <div class="right floated " flex="cross:center">
                            <div class="author">
                                <img class="ui avatar image" src="http://www.semantic-ui.cn/images/avatar/small/matt.jpg">
                                Matt
                            </div>
                        </div>

                    </div>


                </li>
                <li class="ui card article-item" v-for="(item,index) in articles" :key="index">
                    <a class="ui blue ribbon label article-label">Community</a>
                    <div class="content">
                        <nuxt-link :to="{path:`article/pubilsh/${item._id}`,param:{id:item._id}}">
                            <h4 class="header">{{item.title}}</h4>
                            <div class="meta">
                                <span class="right floated time">2 天前</span>
                                <span class="category">动物</span>
                            </div>
                            <div class="description article-description">
                                <p>{{item.abstract}}</p>
                            </div>
                        </nuxt-link>

                    </div>
                    <div class="extra content" >
                        <div class="left floated" @click="like(item._id,index,item)">
                            <div class="ui labeled button" tabindex="0">
                                <div class="ui red button button-icon"><i class="heart icon"></i></div>
                                <a class="ui basic red left pointing label" >
                                    {{item.like+400}}
                                </a>
                            </div>
                            <div class="ui labeled button" tabindex="0">
                                <div class="ui basic blue button"><i class="fork icon"></i></div>
                                <a class="ui basic left pointing blue label">
                                    {{item.share+300}}
                                </a>
                            </div>

                        </div>
                        <div class="right floated " flex="cross:center">
                            <div class="author">
                                <img class="ui avatar image" src="http://www.semantic-ui.cn/images/avatar/small/matt.jpg">
                                Matt
                            </div>
                        </div>

                    </div>


                </li>
                <li class="ui card article-item" v-for="(item,index) in articles" :key="index">
                    <a class="ui blue ribbon label article-label">Community</a>
                    <div class="content">
                        <nuxt-link :to="{path:`article/pubilsh/${item._id}`,param:{id:item._id}}">
                            <h4 class="header">{{item.title}}</h4>
                            <div class="meta">
                                <span class="right floated time">2 天前</span>
                                <span class="category">动物</span>
                            </div>
                            <div class="description article-description">
                                <p>{{item.abstract}}</p>
                            </div>
                        </nuxt-link>

                    </div>
                    <div class="extra content" >
                        <div class="left floated" @click="like(item._id,index,item)">
                            <div class="ui labeled button" tabindex="0">
                                <div class="ui red button button-icon"><i class="heart icon"></i></div>
                                <a class="ui basic red left pointing label" >
                                    {{item.like+400}}
                                </a>
                            </div>
                            <div class="ui labeled button" tabindex="0">
                                <div class="ui basic blue button"><i class="fork icon"></i></div>
                                <a class="ui basic left pointing blue label">
                                    {{item.share+300}}
                                </a>
                            </div>

                        </div>
                        <div class="right floated " flex="cross:center">
                            <div class="author">
                                <img class="ui avatar image" src="http://www.semantic-ui.cn/images/avatar/small/matt.jpg">
                                Matt
                            </div>
                        </div>

                    </div>


                </li>
                <li class="ui card article-item" v-for="(item,index) in articles" :key="index">
                    <a class="ui blue ribbon label article-label">Community</a>
                    <div class="content">
                        <nuxt-link :to="{path:`article/pubilsh/${item._id}`,param:{id:item._id}}">
                            <h4 class="header">{{item.title}}</h4>
                            <div class="meta">
                                <span class="right floated time">2 天前</span>
                                <span class="category">动物</span>
                            </div>
                            <div class="description article-description">
                                <p>{{item.abstract}}</p>
                            </div>
                        </nuxt-link>

                    </div>
                    <div class="extra content" >
                        <div class="left floated" @click="like(item._id,index,item)">
                            <div class="ui labeled button" tabindex="0">
                                <div class="ui red button button-icon"><i class="heart icon"></i></div>
                                <a class="ui basic red left pointing label" >
                                    {{item.like+400}}
                                </a>
                            </div>
                            <div class="ui labeled button" tabindex="0">
                                <div class="ui basic blue button"><i class="fork icon"></i></div>
                                <a class="ui basic left pointing blue label">
                                    {{item.share+300}}
                                </a>
                            </div>

                        </div>
                        <div class="right floated " flex="cross:center">
                            <div class="author">
                                <img class="ui avatar image" src="http://www.semantic-ui.cn/images/avatar/small/matt.jpg">
                                Matt
                            </div>
                        </div>

                    </div>


                </li>
                <li class="ui card article-item" v-for="(item,index) in articles" :key="index">
                    <a class="ui blue ribbon label article-label">Community</a>
                    <div class="content">
                        <nuxt-link :to="{path:`article/pubilsh/${item._id}`,param:{id:item._id}}">
                            <h4 class="header">{{item.title}}</h4>
                            <div class="meta">
                                <span class="right floated time">2 天前</span>
                                <span class="category">动物</span>
                            </div>
                            <div class="description article-description">
                                <p>{{item.abstract}}</p>
                            </div>
                        </nuxt-link>

                    </div>
                    <div class="extra content" >
                        <div class="left floated" @click="like(item._id,index,item)">
                            <div class="ui labeled button" tabindex="0">
                                <div class="ui red button button-icon"><i class="heart icon"></i></div>
                                <a class="ui basic red left pointing label" >
                                    {{item.like+400}}
                                </a>
                            </div>
                            <div class="ui labeled button" tabindex="0">
                                <div class="ui basic blue button"><i class="fork icon"></i></div>
                                <a class="ui basic left pointing blue label">
                                    {{item.share+300}}
                                </a>
                            </div>

                        </div>
                        <div class="right floated " flex="cross:center">
                            <div class="author">
                                <img class="ui avatar image" src="http://www.semantic-ui.cn/images/avatar/small/matt.jpg">
                                Matt
                            </div>
                        </div>

                    </div>


                </li>
                <li class="ui card article-item" v-for="(item,index) in articles" :key="index">
                    <a class="ui blue ribbon label article-label">Community</a>
                    <div class="content">
                        <nuxt-link :to="{path:`article/pubilsh/${item._id}`,param:{id:item._id}}">
                            <h4 class="header">{{item.title}}</h4>
                            <div class="meta">
                                <span class="right floated time">2 天前</span>
                                <span class="category">动物</span>
                            </div>
                            <div class="description article-description">
                                <p>{{item.abstract}}</p>
                            </div>
                        </nuxt-link>

                    </div>
                    <div class="extra content" >
                        <div class="left floated" @click="like(item._id,index,item)">
                            <div class="ui labeled button" tabindex="0">
                                <div class="ui red button button-icon"><i class="heart icon"></i></div>
                                <a class="ui basic red left pointing label" >
                                    {{item.like+400}}
                                </a>
                            </div>
                            <div class="ui labeled button" tabindex="0">
                                <div class="ui basic blue button"><i class="fork icon"></i></div>
                                <a class="ui basic left pointing blue label">
                                    {{item.share+300}}
                                </a>
                            </div>

                        </div>
                        <div class="right floated " flex="cross:center">
                            <div class="author">
                                <img class="ui avatar image" src="http://www.semantic-ui.cn/images/avatar/small/matt.jpg">
                                Matt
                            </div>
                        </div>

                    </div>


                </li>
                <li class="ui card article-item" v-for="(item,index) in articles" :key="index">
                    <a class="ui blue ribbon label article-label">Community</a>
                    <div class="content">
                        <nuxt-link :to="{path:`article/pubilsh/${item._id}`,param:{id:item._id}}">
                            <h4 class="header">{{item.title}}</h4>
                            <div class="meta">
                                <span class="right floated time">2 天前</span>
                                <span class="category">动物</span>
                            </div>
                            <div class="description article-description">
                                <p>{{item.abstract}}</p>
                            </div>
                        </nuxt-link>

                    </div>
                    <div class="extra content" >
                        <div class="left floated" @click="like(item._id,index,item)">
                            <div class="ui labeled button" tabindex="0">
                                <div class="ui red button button-icon"><i class="heart icon"></i></div>
                                <a class="ui basic red left pointing label" >
                                    {{item.like+400}}
                                </a>
                            </div>
                            <div class="ui labeled button" tabindex="0">
                                <div class="ui basic blue button"><i class="fork icon"></i></div>
                                <a class="ui basic left pointing blue label">
                                    {{item.share+300}}
                                </a>
                            </div>

                        </div>
                        <div class="right floated " flex="cross:center">
                            <div class="author">
                                <img class="ui avatar image" src="http://www.semantic-ui.cn/images/avatar/small/matt.jpg">
                                Matt
                            </div>
                        </div>

                    </div>


                </li>
                <li class="ui card article-item" v-for="(item,index) in articles" :key="index">
                    <a class="ui blue ribbon label article-label">Community</a>
                    <div class="content">
                        <nuxt-link :to="{path:`article/pubilsh/${item._id}`,param:{id:item._id}}">
                            <h4 class="header">{{item.title}}</h4>
                            <div class="meta">
                                <span class="right floated time">2 天前</span>
                                <span class="category">动物</span>
                            </div>
                            <div class="description article-description">
                                <p>{{item.abstract}}</p>
                            </div>
                        </nuxt-link>

                    </div>
                    <div class="extra content" >
                        <div class="left floated" @click="like(item._id,index,item)">
                            <div class="ui labeled button" tabindex="0">
                                <div class="ui red button button-icon"><i class="heart icon"></i></div>
                                <a class="ui basic red left pointing label" >
                                    {{item.like+400}}
                                </a>
                            </div>
                            <div class="ui labeled button" tabindex="0">
                                <div class="ui basic blue button"><i class="fork icon"></i></div>
                                <a class="ui basic left pointing blue label">
                                    {{item.share+300}}
                                </a>
                            </div>

                        </div>
                        <div class="right floated " flex="cross:center">
                            <div class="author">
                                <img class="ui avatar image" src="http://www.semantic-ui.cn/images/avatar/small/matt.jpg">
                                Matt
                            </div>
                        </div>

                    </div>


                </li>
                <li class="ui card article-item" v-for="(item,index) in articles" :key="index">
                    <a class="ui blue ribbon label article-label">Community</a>
                    <div class="content">
                        <nuxt-link :to="{path:`article/pubilsh/${item._id}`,param:{id:item._id}}">
                            <h4 class="header">{{item.title}}</h4>
                            <div class="meta">
                                <span class="right floated time">2 天前</span>
                                <span class="category">动物</span>
                            </div>
                            <div class="description article-description">
                                <p>{{item.abstract}}</p>
                            </div>
                        </nuxt-link>

                    </div>
                    <div class="extra content" >
                        <div class="left floated" @click="like(item._id,index,item)">
                            <div class="ui labeled button" tabindex="0">
                                <div class="ui red button button-icon"><i class="heart icon"></i></div>
                                <a class="ui basic red left pointing label" >
                                    {{item.like+400}}
                                </a>
                            </div>
                            <div class="ui labeled button" tabindex="0">
                                <div class="ui basic blue button"><i class="fork icon"></i></div>
                                <a class="ui basic left pointing blue label">
                                    {{item.share+300}}
                                </a>
                            </div>

                        </div>
                        <div class="right floated " flex="cross:center">
                            <div class="author">
                                <img class="ui avatar image" src="http://www.semantic-ui.cn/images/avatar/small/matt.jpg">
                                Matt
                            </div>
                        </div>

                    </div>


                </li>
            </ul>
            <article class="main-right" flex-box="0">
                <div class="new-article-list-con">
                    <h3 class="ui header blue hotHeader">最热排行榜</h3>
                    <div class="ui items">
                        <div class="item">
                            <i class="remove bookmark icon red" flex="cross:center"></i>
                            <a class="header" flex="cross:center">12 Years a Slave</a>
                        </div>
                        <div class="item">
                            <i class="remove bookmark icon orange" flex="cross:center"></i>
                            <a class="header" flex="cross:center">My Neighbor Totoro</a>
                        </div>
                        <div class="item">
                            <i class="remove bookmark icon green" flex="cross:center"></i>
                            <a class="header" flex="cross:center">Watchmen</a>
                        </div>
                        <div class="item">
                            <i class="remove bookmark icon green" flex="cross:center"></i>
                            <a class="header" flex="cross:center">你好你好你好你好你好你好你好你好你好你好你好你好</a>
                        </div>
                        <div class="item">
                            <i class="remove bookmark icon green" flex="cross:center"></i>
                            <a class="header" flex="cross:center">Watchmen</a>
                        </div>
                    </div>
                </div>
                <aplayer autoplay
                         :music="music"
                         :autoplay="false"
                         :showlrc="3"
                         :mutex="true"
                         :narrow="false"
                         theme='#ad7a86'
                         mode='random'
                         listmaxheight='300px'
                         ></aplayer>
            </article>
        </div>
        <div class="write">

            <router-link :to="{path:'/article/pubilsh'}">
                <button class="ui circular primary  icon button">
                    <i class="plus icon"></i>
                </button>
            </router-link>

        </div>
    </section>


</template>

<script>
    import {linkArticel,queryList} from "../../assets/ajax/articleAjax";
    import Aplayer from '../../components/VuePlayer'
    import {mapGetters,mapActions} from 'vuex'

    export default {
        layout: 'Blog',
        async asyncData({store}) {
            let paging = {
                pageSize: 1,
                pageNum: 10
            }
            await store.dispatch('initArticleList', {paging});
            return {
                paging,
                music: [
                    {
                        title: 'あっちゅ～ま青春!',
                        author: '七森中☆ごらく部',
                        url: 'https://moeplayer.b0.upaiyun.com/aplayer/yuruyuri.mp3',
                        pic: 'https://moeplayer.b0.upaiyun.com/aplayer/yuruyuri.jpg',
                        lrc: 'https://moeplayer.b0.upaiyun.com/aplayer/yuruyuri.lrc'
                    },
                    {
                        title: 'secret base~君がくれたもの~',
                        author: '茅野愛衣',
                        url: 'https://moeplayer.b0.upaiyun.com/aplayer/secretbase.mp3',
                        pic: 'https://moeplayer.b0.upaiyun.com/aplayer/secretbase.jpg',
                        lrc: 'https://moeplayer.b0.upaiyun.com/aplayer/secretbase.lrc'
                    },
                    {
                        title: '回レ！雪月花',
                        author: '小倉唯',
                        url: 'https://moeplayer.b0.upaiyun.com/aplayer/snowmoonflowers.mp3',
                        pic: 'https://moeplayer.b0.upaiyun.com/aplayer/snowmoonflowers.jpg',
                        lrc: 'https://moeplayer.b0.upaiyun.com/aplayer/snowmoonflowers.lrc'
                    }
                ],
                appHeight:0,
                bodyHeight:0,
                noMove:true
            }
        },
        mounted(){
            this.app=document.getElementById('app')
            this.appHeight=this.app.offsetHeight;
            this.bodyHeight=document.body.offsetHeight
            let scroll= document.documentElement||document.body
            this.loadMore=async ()=>{
                let scrollTop=scroll.scrollTop;
                if(scrollTop+this.bodyHeight>=this.appHeight){
                    if(this.noMove){//没有更多
                        this.paging.pageSize+=1;
                        let data=await queryList({
                            data:{
                                paging:this.paging
                            }
                        });
                        if(!data||data.length<1){
                            this.noMove=false
                            return  this.$Notice.warning({
                                title: '温馨提示',
                                desc: '没有更多文章了'
                            });
                        }
                        await this.queryArticleList({
                            list:data
                        })
                        this.appHeight=this.app.offsetHeight;
                    }else{
                        return  this.$Notice.warning({
                            title: '温馨提示',
                            desc: '没有更多文章了'
                        });
                    }

                }
            }
            window.addEventListener('scroll',this.loadMore,false)
        },
        computed:{
            ...mapGetters([
                'articles'
            ])
        },
        methods:{
            ...mapActions([
                'queryArticleList',
                'initArticleList'
            ]),
            async like(_id,index,item){
                let res=await linkArticel(_id)
                if(res){
                    item.like=res.like
                }
            }
        },
        beforeDestroy(){
            window.removeEventListener('scroll',this.loadMore,false)
        },
        components: {
            'aplayer': Aplayer
        }
    }
</script>

<style scoped lang="stylus">
    @import "../../static/stylus/style.styl"
    .blog
        padding-bottom 20px
    .write
        position fixed
        right 20px
        bottom 20px
    .main-right
        width 340px;
        padding-left 20px
    .articles
        width 100%
        .article-item
            width 100%
            .header
                font-size 18px !important
            .description
                min-height 50px
            .article-description
                font-size 14px
            .meta
                padding 5px 0
            .article-label
                left -1.2em
                max-width 100px
            .author
                height 36px
                line-height 36px

    .hotHeader
        padding 7px 10px
        border-bottom 1px solid rgba(34, 36, 38, .2)

    .ui.header:first-child
        margin-top 0

    .new-article-list-con
        background #fff
        -webkit-box-shadow 0 1px 3px 0 #d4d4d5, 0 0 0 1px #d4d4d5
        box-shadow 0 1px 3px 0 #d4d4d5, 0 0 0 1px #d4d4d5
        border-radius 0.3rem
        padding-bottom 20px
        .item
            padding 0 10px
            .bookmark
                font-size 1.3rem

    .new-article-list-con .item a.header
        width 200px
        font-size 1.17rem !important
        font-weight normal !important
        color rgba(0, 0, 0, .4) !important
        display block
        -webkit-box-orient vertical
        -webkit-line-clamp 1
        white-space nowrap
        text-overflow ellipsis
        overflow hidden
    @import "../../static/stylus/media.styl"
</style>